import{b as r}from"./browser-CjSdxGTc.js";import{L as i}from"./localeText-1xywh96C.js";import{_ as c,D as l,g as _,k as p,a,c as d,b as e,d as m,n as u,e as h}from"./index-CPPGF8lh.js";const f={name:"peerQRCode",components:{LocaleText:i},props:{selectedPeer:Object},setup(){return{dashboardStore:l()}},data(){return{loading:!0}},mounted(){_("/api/downloadPeer/"+this.$route.params.id,{id:this.selectedPeer.id},o=>{this.loading=!1,o.status?r.toCanvas(document.querySelector("#qrcode"),o.data.file,s=>{s&&console.error(s)}):this.dashboardStore.newMessage("Server",o.message,"danger")})}},b={class:"peerSettingContainer w-100 h-100 position-absolute top-0 start-0"},g={class:"container d-flex h-100 w-100"},v={class:"m-auto modal-dialog-centered dashboardModal justify-content-center"},C={class:"card rounded-3 shadow"},x={class:"card-header bg-transparent d-flex align-items-center gap-2 border-0 p-4 pb-0"},w={class:"mb-0"},S={class:"card-body p-4"},y={class:"d-flex"},k={key:0,class:"spinner-border m-auto",role:"status"};function L(o,s,$,q,t,B){const n=p("LocaleText");return a(),d("div",b,[e("div",g,[e("div",v,[e("div",C,[e("div",x,[e("h4",w,[m(n,{t:"QR Code"})]),e("button",{type:"button",class:"btn-close ms-auto",onClick:s[0]||(s[0]=N=>this.$emit("close"))})]),e("div",S,[e("div",y,[e("canvas",{id:"qrcode",class:u(["rounded-3 shadow animate__animated animate__fadeIn animate__faster",{"d-none":t.loading}])},null,2),t.loading?(a(),d("div",k,s[1]||(s[1]=[e("span",{class:"visually-hidden"},"Loading...",-1)]))):h("",!0)])])])])])])}const T=c(f,[["render",L],["__scopeId","data-v-a8cfdc61"]]);export{T as default};
