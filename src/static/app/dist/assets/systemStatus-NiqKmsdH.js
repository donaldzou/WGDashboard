import{_ as E,a as o,c as l,b as e,t as i,D as T,p as _,o as H,s as W,r as p,g as q,d as n,q as h,F as b,h as v,A as k,w as O,k as $,e as f,i as N,f as B,G as y}from"./index-SSUbX4pf.js";import{L as d}from"./localeText-Bv7TXms4.js";import{C as A}from"./storageMount.vue_vue_type_style_index_0_scoped_a382214a_lang-1OQAg0H8.js";import{C as F,L as z,B as J,a as K,b as Q,c as X,p as Y,d as Z,e as ee,f as se,P as te,i as ae,g as C}from"./index-DDoLaYn8.js";import{d as oe}from"./dayjs.min-DLM-rQy6.js";const le={class:"mb-1 d-flex gap-5"},re={class:"title"},ne={class:"ms-auto"},ce={__name:"process",props:["process","cpu"],setup(m){return(x,s)=>(o(),l("div",le,[e("small",re,[s[0]||(s[0]=e("i",{class:"bi bi-code-square me-2"},null,-1)),e("samp",null,i(m.process.command?m.process.command:m.process.name),1)]),e("small",ne,i(Math.round((m.process.percent+Number.EPSILON)*10)/10)+"% ",1)]))}},D=E(ce,[["__scopeId","data-v-ffe5ad8f"]]),ie={class:"text-body row g-2 mb-2"},de={class:"col-sm-6"},ue={class:"card rounded-3 h-100 shadow"},_e={class:"card-body p-4"},pe={class:"d-flex flex-column gap-3"},he={class:"d-flex flex-column gap-3",style:{height:"130px"}},me={class:"d-flex align-items-center"},be={class:"text-muted mb-0"},ve={class:"ms-auto mb-0"},ye={key:0},ge={key:1,class:"spinner-border"},fe={class:"progress",role:"progressbar",style:{height:"10px"}},xe={class:"d-flex gap-1"},we={class:"d-flex align-items-center"},ke={class:"mb-0"},Ne={class:"mb-0 ms-auto text-muted"},Ce={class:"position-relative"},Se={class:"col-sm-6"},Me={class:"card rounded-3 h-100 shadow"},Ie={class:"card-body p-4"},Pe={class:"d-flex flex-column gap-3"},Ue={class:"d-flex flex-column gap-3",style:{height:"130px"}},Le={class:"d-flex align-items-center"},Oe={class:"text-muted"},$e={class:"ms-auto"},Be={key:0},De={key:1,class:"spinner-border"},Ee={class:"progress",role:"progressbar",style:{height:"10px"}},Ve={class:"d-flex align-items-center"},Re={class:"mb-0 ms-auto"},Ge={class:"progress",role:"progressbar",style:{height:"10px"}},je={class:"d-flex align-items-center"},Te={class:"mb-0"},He={class:"mb-0 ms-auto text-muted"},We={class:"position-relative"},qe={class:"col-sm-12"},Ae={class:"card rounded-3 h-100 shadow"},Fe={class:"card-body p-4 d-flex gap-3 flex-column"},ze={class:"d-flex align-items-center"},Je={class:"text-muted mb-0"},Ke={class:"ms-auto mb-0"},Qe={key:0},Xe={key:1,class:"spinner-border"},Ye={key:0,class:"row g-3"},Ze={class:"col-sm-6 fadeIn"},es={class:"d-flex mb-2"},ss={class:"mb-0"},ts={class:"mb-0 ms-auto d-flex gap-2"},as={class:"text-info"},os={class:"text-warning"},ls={class:"progress",role:"progressbar",style:{height:"10px"}},rs={class:"col-sm-12"},ns={class:"card rounded-3 h-100 shadow"},cs={class:"card-body p-4 d-flex gap-3 flex-column"},is={class:"d-flex align-items-center"},ds={class:"text-muted mb-0"},us={class:"ms-auto mb-0"},_s={key:0},ps={key:1,class:"spinner-border"},hs={class:"row g-3"},ms={class:"col-sm-6 fadeIn"},bs={class:"d-flex mb-2"},vs={class:"mb-0"},ys={class:"mb-0 ms-auto d-flex gap-2"},gs={class:"text-success"},fs={class:"progress",role:"progressbar",style:{height:"20px"}},xs={__name:"systemStatus",setup(m){const x=T(),s=_(()=>x.SystemStatus);let S=null;F.register(z,J,K,Q,X,Y,Z,ee,se,te,ae),H(()=>{U(),S=setInterval(()=>{U()},5e3)}),W(()=>{clearInterval(S)});const g=p([]),M=p([]),I=p([]),P=p([]),c=p({bytes_recv:[],bytes_sent:[]}),u=p({bytes_recv:[],bytes_sent:[]}),U=()=>{q("/api/systemStatus",{},r=>{if(g.value.push(oe().format("HH:mm:ss A")),x.SystemStatus=r.data,M.value.push(r.data.CPU.cpu_percent),I.value.push(r.data.Memory.VirtualMemory.percent),P.value.push(r.data.Memory.SwapMemory.percent),c.value.bytes_recv.push(Object.values(r.data.NetworkInterfaces).map(a=>a.bytes_recv).reduce((a,t)=>a.bytes_recv+t.bytes_recv)),c.value.bytes_sent.push(Object.values(r.data.NetworkInterfaces).map(a=>a.bytes_sent).reduce((a,t)=>a.bytes_sent+t.bytes_sent)),c.value.bytes_recv.length===1&&c.value.bytes_sent.length===1)u.value.bytes_recv.push(0),u.value.bytes_sent.push(0);else{let a=c.value.bytes_recv[c.value.bytes_recv.length-1]-c.value.bytes_recv[c.value.bytes_recv.length-2],t=c.value.bytes_sent[c.value.bytes_sent.length-1]-c.value.bytes_sent[c.value.bytes_sent.length-2];console.log(a,t),u.value.bytes_recv.push(Math.round((a/1024e3+Number.EPSILON)*1e4)/1e4),u.value.bytes_sent.push(Math.round((t/1024e3+Number.EPSILON)*1e4)/1e4)}})},L=_(()=>({responsive:!0,plugins:{legend:{display:!0},tooltip:{callbacks:{label:r=>`${r.formattedValue}%`}}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(r,a)=>`${r}%`},grid:{display:!1}}}})),V=_(()=>({responsive:!0,plugins:{legend:{display:!0},tooltip:{callbacks:{label:r=>`${r.formattedValue} MB/s`}}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(r,a)=>`${r} MB/s`},grid:{display:!1}}}})),R=_(()=>({labels:[...g.value],datasets:[{label:y("CPU Usage"),data:[...M.value],fill:"start",backgroundColor:"#0d6efd50",borderColor:"#0d6efd",tension:0,pointRadius:2,borderWidth:1}]})),G=_(()=>({labels:[...g.value],datasets:[{label:y("Memory Usage"),data:[...I.value],fill:1,borderColor:"#0dcaf0",backgroundColor:"#0dcaf050",tension:0,pointRadius:2,borderWidth:1},{label:y("Swap Memory Usage"),data:[...P.value],fill:"start",backgroundColor:"#ffc10750",borderColor:"#ffc107",tension:0,pointRadius:2,borderWidth:1}]})),j=_(()=>({labels:[...g.value],datasets:[{label:y("Real Time Received Data Usage"),data:[...u.value.bytes_recv],fill:"origin",borderColor:"#0dcaf0",backgroundColor:"#0dcaf090",tension:0,pointRadius:2,borderWidth:1},{label:y("Real Time Sent Data Usage"),data:[...u.value.bytes_sent],fill:"origin",backgroundColor:"#ffc10790",borderColor:"#ffc107",tension:0,pointRadius:2,borderWidth:1}]}));return(r,a)=>(o(),l("div",ie,[e("div",de,[e("div",ue,[e("div",_e,[e("div",pe,[e("div",he,[e("div",me,[e("h3",be,[a[0]||(a[0]=e("i",{class:"bi bi-cpu-fill me-2"},null,-1)),n(d,{t:"CPU"})]),e("h3",ve,[s.value?(o(),l("span",ye,i(s.value.CPU.cpu_percent)+"% ",1)):(o(),l("span",ge))])]),e("div",fe,[e("div",{class:"progress-bar",style:h({width:`${s.value?.CPU.cpu_percent}%`})},null,4)]),e("div",xe,[(o(!0),l(b,null,v(s.value?.CPU.cpu_percent_per_cpu,(t,w)=>(o(),N(A,{square:!0,key:w,align:w+1>Math.round(s.value?.CPU.cpu_percent_per_cpu.length/2),core_number:w,percentage:t},null,8,["align","core_number","percentage"]))),128))])]),n(k(C),{options:L.value,data:R.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),e("div",we,[e("h5",ke,[n(d,{t:"Processes"})]),e("h6",Ne,[e("small",null,[n(d,{t:"CPU Usage"})])])]),a[1]||(a[1]=e("hr",{class:"my-1"},null,-1)),e("div",Ce,[n($,{name:"process"},{default:O(()=>[(o(!0),l(b,null,v(s.value?.Processes.cpu_top_10,t=>(o(),N(D,{key:t.pid,cpu:!0,process:t},null,8,["process"]))),128))]),_:1})])])])])]),e("div",Se,[e("div",Me,[e("div",Ie,[e("div",Pe,[e("div",Ue,[e("div",Le,[e("h3",Oe,[a[2]||(a[2]=e("i",{class:"bi bi-memory me-2"},null,-1)),n(d,{t:"Memory"})]),e("h3",$e,[s.value?(o(),l("span",Be,i(s.value?.Memory.VirtualMemory.percent)+"% ",1)):(o(),l("span",De))])]),e("div",Ee,[e("div",{class:"progress-bar bg-info",style:h({width:`${s.value?.Memory.VirtualMemory.percent}%`})},null,4)]),e("div",Ve,[a[3]||(a[3]=e("h6",{class:"mb-0"},"Swap Memory",-1)),e("h6",Re,i(s.value?.Memory.SwapMemory.percent)+"%",1)]),e("div",Ge,[e("div",{class:"progress-bar bg-info-subtle",style:h({width:`${s.value?.Memory.SwapMemory.percent}%`})},null,4)])]),n(k(C),{options:L.value,data:G.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),e("div",je,[e("h5",Te,[n(d,{t:"Processes"})]),e("h6",He,[e("small",null,[n(d,{t:"Memory Usage"})])])]),a[4]||(a[4]=e("hr",{class:"my-1"},null,-1)),e("div",We,[n($,{name:"process"},{default:O(()=>[(o(!0),l(b,null,v(s.value?.Processes.memory_top_10,t=>(o(),N(D,{key:t.pid,process:t},null,8,["process"]))),128))]),_:1})])])])])]),e("div",qe,[e("div",Ae,[e("div",Fe,[e("div",ze,[e("h3",Je,[a[5]||(a[5]=e("i",{class:"bi bi-ethernet me-2"},null,-1)),n(d,{t:"Network"})]),e("h3",Ke,[s.value?(o(),l("span",Qe,[n(d,{t:Object.keys(s.value.NetworkInterfaces).length+" Interface"+(Object.keys(s.value.NetworkInterfaces).length>1?"s":"")},null,8,["t"])])):(o(),l("span",Xe))])]),n(k(C),{options:V.value,data:j.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),s.value?(o(),l("div",Ye,[(o(!0),l(b,null,v(Object.keys(s.value.NetworkInterfaces).sort(),t=>(o(),l("div",Ze,[e("div",es,[e("h6",ss,[e("samp",null,i(t),1)]),e("h6",ts,[e("span",as,[a[6]||(a[6]=e("i",{class:"bi bi-arrow-down"},null,-1)),B(" "+i(Math.round((s.value.NetworkInterfaces[t].bytes_recv/1024e6+Number.EPSILON)*1e4)/1e4)+" GB ",1)]),e("span",os,[a[7]||(a[7]=e("i",{class:"bi bi-arrow-up"},null,-1)),B(" "+i(Math.round((s.value.NetworkInterfaces[t].bytes_sent/1024e6+Number.EPSILON)*1e4)/1e4)+" GB ",1)])])]),e("div",ls,[s.value.NetworkInterfaces[t].bytes_recv>0?(o(),l("div",{key:0,class:"progress-bar bg-info",style:h({width:`${s.value.NetworkInterfaces[t].bytes_recv/(s.value.NetworkInterfaces[t].bytes_sent+s.value.NetworkInterfaces[t].bytes_recv)*100}%`})},null,4)):f("",!0),s.value.NetworkInterfaces[t].bytes_sent>0?(o(),l("div",{key:1,class:"progress-bar bg-warning",style:h({width:`${s.value.NetworkInterfaces[t].bytes_sent/(s.value.NetworkInterfaces[t].bytes_sent+s.value.NetworkInterfaces[t].bytes_recv)*100}%`})},null,4)):f("",!0)])]))),256))])):f("",!0)])])]),e("div",rs,[e("div",ns,[e("div",cs,[e("div",is,[e("h3",ds,[a[8]||(a[8]=e("i",{class:"bi bi-device-ssd-fill me-2"},null,-1)),n(d,{t:"Storage"})]),e("h3",us,[s.value?(o(),l("span",_s,[n(d,{t:s.value.Disks.length+" Partition"+(s.value.Disks.length>1?"s":"")},null,8,["t"])])):(o(),l("span",ps))])]),e("div",hs,[s.value?(o(!0),l(b,{key:0},v(s.value.Disks,t=>(o(),l("div",ms,[e("div",bs,[e("h6",vs,[e("samp",null,i(t.mountPoint),1)]),e("h6",ys,[e("span",gs,i(Math.round((t.used/1024e6+Number.EPSILON)*100)/100)+" / "+i(Math.round((t.total/1024e6+Number.EPSILON)*100)/100)+" GB Used ",1)])]),e("div",fs,[e("div",{class:"progress-bar bg-success",style:h({width:`${t.percent}%`})},i(t.percent)+"% ",5)])]))),256)):f("",!0)])])])])]))}},Ms=E(xs,[["__scopeId","data-v-2a70f491"]]);export{Ms as default};
