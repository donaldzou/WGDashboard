import{_ as E,a as l,c as o,b as e,t as i,D as T,p as _,o as H,s as W,r as p,g as q,d as n,q as h,F as b,h as v,A as N,w as O,k as $,f as x,e as g,i as C,G as y}from"./index-CHzEt7lj.js";import{L as u}from"./localeText-BiUJEs-O.js";import{C as A}from"./storageMount.vue_vue_type_style_index_0_scoped_a382214a_lang-D3PhY2cG.js";import{C as F,L as z,B as J,a as K,b as Q,c as X,p as Y,d as Z,e as ee,f as se,P as te,i as ae,g as M}from"./index-CcDTjJbO.js";import{d as le}from"./dayjs.min-wa-hLdAE.js";const oe={class:"mb-1 d-flex gap-5"},re={class:"title"},ne={class:"ms-auto"},ie={__name:"process",props:["process","cpu"],setup(m){return(w,s)=>(l(),o("div",oe,[e("small",re,[s[0]||(s[0]=e("i",{class:"bi bi-code-square me-2"},null,-1)),e("samp",null,i(m.process.command?m.process.command:m.process.name),1)]),e("small",ne,i(Math.round((m.process.percent+Number.EPSILON)*10)/10)+"% ",1)]))}},D=E(ie,[["__scopeId","data-v-ffe5ad8f"]]),ce={class:"text-body row g-2 mb-2"},de={class:"col-sm-6"},ue={class:"card rounded-3 h-100 shadow"},_e={class:"card-body p-4"},pe={class:"d-flex flex-column gap-3"},he={class:"d-flex flex-column gap-3",style:{height:"130px"}},me={class:"d-flex align-items-center"},be={class:"text-muted mb-0"},ve={class:"ms-auto mb-0"},ge={key:0},ye={key:1,class:"spinner-border"},fe={class:"progress",role:"progressbar",style:{height:"10px"}},xe={class:"d-flex gap-1"},we={class:"d-flex align-items-center"},ke={class:"mb-0"},Ne={class:"mb-0 ms-auto text-muted"},Ce={class:"position-relative"},Me={class:"col-sm-6"},Se={class:"card rounded-3 h-100 shadow"},Ie={class:"card-body p-4"},Pe={class:"d-flex flex-column gap-3"},Ue={class:"d-flex flex-column gap-3",style:{height:"130px"}},Le={class:"d-flex align-items-center"},Be={class:"text-muted"},Oe={class:"ms-auto"},$e={key:0},De={key:1,class:"spinner-border"},Ee={class:"progress",role:"progressbar",style:{height:"10px"}},Ve={class:"d-flex align-items-center"},Re={class:"mb-0 ms-auto"},Ge={class:"progress",role:"progressbar",style:{height:"10px"}},je={class:"d-flex align-items-center"},Te={class:"mb-0"},He={class:"mb-0 ms-auto text-muted"},We={class:"position-relative"},qe={class:"col-sm-12"},Ae={class:"card rounded-3 h-100 shadow"},Fe={class:"card-body p-4 d-flex gap-3 flex-column"},ze={class:"d-flex align-items-center gap-3"},Je={class:"text-muted mb-0"},Ke={class:"ms-auto mb-0"},Qe={key:0},Xe={key:1,class:"spinner-border"},Ye={key:0,class:"mb-0 text-end"},Ze={class:"text-info"},es={class:"text-warning"},ss={key:0,class:"row g-3"},ts={class:"col-sm-6 fadeIn"},as={class:"d-flex mb-2"},ls={class:"mb-0"},os={class:"mb-0 ms-auto d-flex gap-2"},rs={class:"text-info"},ns={class:"text-warning"},is={class:"progress",role:"progressbar",style:{height:"10px"}},cs={class:"col-sm-12"},ds={class:"card rounded-3 h-100 shadow"},us={class:"card-body p-4 d-flex gap-3 flex-column"},_s={class:"d-flex align-items-center"},ps={class:"text-muted mb-0"},hs={class:"ms-auto mb-0"},ms={key:0},bs={key:1,class:"spinner-border"},vs={class:"row g-3"},gs={class:"col-sm-6 fadeIn"},ys={class:"d-flex mb-2"},fs={class:"mb-0"},xs={class:"mb-0 ms-auto d-flex gap-2"},ws={class:"text-success"},ks={class:"progress",role:"progressbar",style:{height:"20px"}},Ns={__name:"systemStatus",setup(m){const w=T(),s=_(()=>w.SystemStatus);let S=null;F.register(z,J,K,Q,X,Y,Z,ee,se,te,ae),H(()=>{L(),S=setInterval(()=>{L()},5e3)}),W(()=>{clearInterval(S)});const f=p([]),I=p([]),P=p([]),U=p([]),c=p({bytes_recv:[],bytes_sent:[]}),d=p({bytes_recv:[],bytes_sent:[]}),L=()=>{q("/api/systemStatus",{},r=>{if(f.value.push(le().format("HH:mm:ss A")),w.SystemStatus=r.data,I.value.push(r.data.CPU.cpu_percent),P.value.push(r.data.Memory.VirtualMemory.percent),U.value.push(r.data.Memory.SwapMemory.percent),c.value.bytes_recv.push(Object.values(r.data.NetworkInterfaces).map(t=>t.bytes_recv).reduce((t,a)=>t+a)),c.value.bytes_sent.push(Object.values(r.data.NetworkInterfaces).map(t=>t.bytes_sent).reduce((t,a)=>t+a)),c.value.bytes_recv.length===1&&c.value.bytes_sent.length===1)d.value.bytes_recv.push(0),d.value.bytes_sent.push(0);else{let t=c.value.bytes_recv[c.value.bytes_recv.length-1]-c.value.bytes_recv[c.value.bytes_recv.length-2],a=c.value.bytes_sent[c.value.bytes_sent.length-1]-c.value.bytes_sent[c.value.bytes_sent.length-2];d.value.bytes_recv.push(Math.round((t/1024e3+Number.EPSILON)*1e4)/1e4),d.value.bytes_sent.push(Math.round((a/1024e3+Number.EPSILON)*1e4)/1e4)}})},B=_(()=>({responsive:!0,plugins:{legend:{display:!0},tooltip:{callbacks:{label:r=>`${r.formattedValue}%`}}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(r,t)=>`${r}%`},grid:{display:!1}}}})),V=_(()=>({responsive:!0,plugins:{legend:{display:!0},tooltip:{callbacks:{label:r=>`${r.formattedValue} MB/s`}}},scales:{x:{ticks:{display:!1},grid:{display:!1}},y:{ticks:{callback:(r,t)=>`${r} MB/s`},grid:{display:!1}}}})),R=_(()=>({labels:[...f.value],datasets:[{label:y("CPU Usage"),data:[...I.value],fill:"start",backgroundColor:"#0d6efd90",borderColor:"#0d6efd",tension:0,pointRadius:2,borderWidth:1}]})),G=_(()=>({labels:[...f.value],datasets:[{label:y("Memory Usage"),data:[...P.value],fill:1,borderColor:"#0dcaf0",backgroundColor:"#0dcaf090",tension:0,pointRadius:2,borderWidth:1},{label:y("Swap Memory Usage"),data:[...U.value],fill:"start",backgroundColor:"#ffc10790",borderColor:"#ffc107",tension:0,pointRadius:2,borderWidth:1}]})),j=_(()=>({labels:[...f.value],datasets:[{label:y("Real Time Received Data Usage"),data:[...d.value.bytes_recv],fill:"origin",borderColor:"#0dcaf0",backgroundColor:"#0dcaf090",tension:0,pointRadius:2,borderWidth:1},{label:y("Real Time Sent Data Usage"),data:[...d.value.bytes_sent],fill:"origin",backgroundColor:"#ffc10790",borderColor:"#ffc107",tension:0,pointRadius:2,borderWidth:1}]}));return(r,t)=>(l(),o("div",ce,[e("div",de,[e("div",ue,[e("div",_e,[e("div",pe,[e("div",he,[e("div",me,[e("h3",be,[t[0]||(t[0]=e("i",{class:"bi bi-cpu-fill me-2"},null,-1)),n(u,{t:"CPU"})]),e("h3",ve,[s.value?(l(),o("span",ge,i(s.value.CPU.cpu_percent)+"% ",1)):(l(),o("span",ye))])]),e("div",fe,[e("div",{class:"progress-bar",style:h({width:`${s.value?.CPU.cpu_percent}%`})},null,4)]),e("div",xe,[(l(!0),o(b,null,v(s.value?.CPU.cpu_percent_per_cpu,(a,k)=>(l(),C(A,{square:!0,key:k,align:k+1>Math.round(s.value?.CPU.cpu_percent_per_cpu.length/2),core_number:k,percentage:a},null,8,["align","core_number","percentage"]))),128))])]),n(N(M),{options:B.value,data:R.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),e("div",we,[e("h5",ke,[n(u,{t:"Processes"})]),e("h6",Ne,[e("small",null,[n(u,{t:"CPU Usage"})])])]),t[1]||(t[1]=e("hr",{class:"my-1"},null,-1)),e("div",Ce,[n($,{name:"process"},{default:O(()=>[(l(!0),o(b,null,v(s.value?.Processes.cpu_top_10,a=>(l(),C(D,{key:a.pid,cpu:!0,process:a},null,8,["process"]))),128))]),_:1})])])])])]),e("div",Me,[e("div",Se,[e("div",Ie,[e("div",Pe,[e("div",Ue,[e("div",Le,[e("h3",Be,[t[2]||(t[2]=e("i",{class:"bi bi-memory me-2"},null,-1)),n(u,{t:"Memory"})]),e("h3",Oe,[s.value?(l(),o("span",$e,i(s.value?.Memory.VirtualMemory.percent)+"% ",1)):(l(),o("span",De))])]),e("div",Ee,[e("div",{class:"progress-bar bg-info",style:h({width:`${s.value?.Memory.VirtualMemory.percent}%`})},null,4)]),e("div",Ve,[t[3]||(t[3]=e("h6",{class:"mb-0"},"Swap Memory",-1)),e("h6",Re,i(s.value?.Memory.SwapMemory.percent)+"%",1)]),e("div",Ge,[e("div",{class:"progress-bar bg-info-subtle",style:h({width:`${s.value?.Memory.SwapMemory.percent}%`})},null,4)])]),n(N(M),{options:B.value,data:G.value,style:{width:"100%",height:"200px","max-height":"200px"}},null,8,["options","data"]),e("div",je,[e("h5",Te,[n(u,{t:"Processes"})]),e("h6",He,[e("small",null,[n(u,{t:"Memory Usage"})])])]),t[4]||(t[4]=e("hr",{class:"my-1"},null,-1)),e("div",We,[n($,{name:"process"},{default:O(()=>[(l(!0),o(b,null,v(s.value?.Processes.memory_top_10,a=>(l(),C(D,{key:a.pid,process:a},null,8,["process"]))),128))]),_:1})])])])])]),e("div",qe,[e("div",Ae,[e("div",Fe,[e("div",ze,[e("h3",Je,[t[5]||(t[5]=e("i",{class:"bi bi-ethernet me-2"},null,-1)),n(u,{t:"Network"})]),e("h3",Ke,[s.value?(l(),o("span",Qe,[n(u,{t:Object.keys(s.value.NetworkInterfaces).length+" Interface"+(Object.keys(s.value.NetworkInterfaces).length>1?"s":"")},null,8,["t"])])):(l(),o("span",Xe))])]),e("div",null,[s.value?(l(),o("h5",Ye,[e("span",Ze,[t[6]||(t[6]=e("i",{class:"bi bi-arrow-down"},null,-1)),x(" "+i(d.value.bytes_recv[d.value.bytes_recv.length-1])+" MB/s ",1)]),e("span",es,[t[7]||(t[7]=e("i",{class:"bi bi-arrow-up"},null,-1)),x(" "+i(d.value.bytes_sent[d.value.bytes_sent.length-1])+" MB/s ",1)])])):g("",!0)]),n(N(M),{options:V.value,data:j.value,style:{width:"100%",height:"300px","max-height":"300px"}},null,8,["options","data"]),s.value?(l(),o("div",ss,[(l(!0),o(b,null,v(Object.keys(s.value.NetworkInterfaces).sort(),a=>(l(),o("div",ts,[e("div",as,[e("h6",ls,[e("samp",null,i(a),1)]),e("h6",os,[e("span",rs,[t[8]||(t[8]=e("i",{class:"bi bi-arrow-down"},null,-1)),x(" "+i(Math.round((s.value.NetworkInterfaces[a].bytes_recv/1024e6+Number.EPSILON)*1e4)/1e4)+" GB ",1)]),e("span",ns,[t[9]||(t[9]=e("i",{class:"bi bi-arrow-up"},null,-1)),x(" "+i(Math.round((s.value.NetworkInterfaces[a].bytes_sent/1024e6+Number.EPSILON)*1e4)/1e4)+" GB ",1)])])]),e("div",is,[s.value.NetworkInterfaces[a].bytes_recv>0?(l(),o("div",{key:0,class:"progress-bar bg-info",style:h({width:`${s.value.NetworkInterfaces[a].bytes_recv/(s.value.NetworkInterfaces[a].bytes_sent+s.value.NetworkInterfaces[a].bytes_recv)*100}%`})},null,4)):g("",!0),s.value.NetworkInterfaces[a].bytes_sent>0?(l(),o("div",{key:1,class:"progress-bar bg-warning",style:h({width:`${s.value.NetworkInterfaces[a].bytes_sent/(s.value.NetworkInterfaces[a].bytes_sent+s.value.NetworkInterfaces[a].bytes_recv)*100}%`})},null,4)):g("",!0)])]))),256))])):g("",!0)])])]),e("div",cs,[e("div",ds,[e("div",us,[e("div",_s,[e("h3",ps,[t[10]||(t[10]=e("i",{class:"bi bi-device-ssd-fill me-2"},null,-1)),n(u,{t:"Storage"})]),e("h3",hs,[s.value?(l(),o("span",ms,[n(u,{t:s.value.Disks.length+" Partition"+(s.value.Disks.length>1?"s":"")},null,8,["t"])])):(l(),o("span",bs))])]),e("div",vs,[s.value?(l(!0),o(b,{key:0},v(s.value.Disks,a=>(l(),o("div",gs,[e("div",ys,[e("h6",fs,[e("samp",null,i(a.mountPoint),1)]),e("h6",xs,[e("span",ws,i(Math.round((a.used/1024e6+Number.EPSILON)*100)/100)+" / "+i(Math.round((a.total/1024e6+Number.EPSILON)*100)/100)+" GB Used ",1)])]),e("div",ks,[e("div",{class:"progress-bar bg-success",style:h({width:`${a.percent}%`})},i(a.percent)+"% ",5)])]))),256)):g("",!0)])])])])]))}},Us=E(Ns,[["__scopeId","data-v-727ce0e8"]]);export{Us as default};
